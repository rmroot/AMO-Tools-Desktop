<div class="explore-opportunities">
  <h2>Select Potential Adjustment Projects</h2>
  <p>Select potential adjustment projects to explore opportunities to increase efficiency and the effectiveness of your system.</p>
  <ul>
    <li>
      <div class="checkbox">
        <label for="general"><input type ="checkbox" id="general" value="true" (focus)="focusField('systemData')" (change)="toggleSystemData()" [(ngModel)]="showSystemData" />
								Adjust System Data
							</label>
      </div>
      <ul *ngIf="showSystemData">
        <li>
          <div class="checkbox">
            <label for="modifyCost"><input type ="checkbox" id="modifyCost" value="true" (focus)="focusField('modifyCost')" (change)="toggleCost()" [(ngModel)]="showCost"/>
										Modify Cost
									</label>
          </div>
          <form *ngIf="showCost">
            <div class="form-group">
              <label for="baselineCost">Baseline Cost</label>
              <div class="input-group">
                <input name="baselineCost" type="number" step="any" id="baselineCost" class="form-control" (focus)="focusField('modifyCost')"
                  (input)="checkCost(1)" [(ngModel)]="psat.inputs.cost_kw_hour" />
                <span class="input-group-addon units">($/kWH)</span>
              </div>
              <span class="alert-danger pull-right small" *ngIf="costError1 !== null">{{costError1}}</span>
            </div>
            <div class="form-group">
              <label for="modificationCost">Modification Cost</label>
              <div class="input-group">
                <input name="modificationCost" type="number" step="any" id="modificationCost" class="form-control" (focus)="focusField('modifyCost')"
                  [(ngModel)]="psat.modifications[exploreModIndex].psat.inputs.cost_kw_hour" (input)="checkCost(2)" />
                <span class="input-group-addon units">($/kWh)</span>
              </div>
              <span class="alert-danger pull-right small" *ngIf="costError2 !== null">{{costError2}}</span>
            </div>
          </form>
        </li>
        <li>
          <div class="checkbox">
            <label for="modifyFlowRate"><input type ="checkbox" id="modifyFlowRate" value="true" (focus)="focusField('flowRate')" (change)="toggleFlowRate()" [(ngModel)]="showFlowRate"/>
										Modify Flow Rate
									</label>
          </div>
          <form *ngIf="showFlowRate">
            <div class="form-group">
              <label for="baselineFlowRate">Baseline Flow Rate</label>
              <div class="input-group">
                <input name="baselineFlowRate" type="number" step="any" id="baselineFlowRate" class="form-control" (focus)="focusField('flowRate')"
                  (input)="checkFlowRate(1)" [(ngModel)]="psat.inputs.flow_rate" />
                <span class="input-group-addon units" [innerHTML]="getUnit(settings.flowMeasurement)"></span>
                <!--<span class="input-group-addon units">{{settings.flowMeasurement}}</span>-->
              </div>
              <span class="alert-danger pull-right small" *ngIf="flowRateError1 !== null">{{flowRateError1}}</span>
            </div>
            <div class="form-group">
              <label for="modificationFlowRate">Modification Flow Rate</label>
              <div class="input-group">
                <input name="modificationFlowRate" type="number" step="any" id="modificationFlowRate" class="form-control" (focus)="focusField('flowRate')"
                  [(ngModel)]="psat.modifications[exploreModIndex].psat.inputs.flow_rate" (input)="checkFlowRate(2)" />
                <span class="input-group-addon units" [innerHTML]="getUnit(settings.flowMeasurement)"></span>
                <!--<span class="input-group-addon units">{{settings.flowMeasurement}}</span>-->
              </div>
              <span class="alert-danger pull-right small" *ngIf="flowRateError2 !== null">{{flowRateError2}}</span>
            </div>
          </form>
        </li>
        <li>
          <div class="checkbox">
            <label for="modifyHead"><input type ="checkbox" id="modifyHead" value="true" (focus)="focusField('head')" (change)="toggleHead()" [(ngModel)]="showHead"/>
										Modify Head
									</label>
          </div>
          <form *ngIf="showHead">
            <div class="form-group">
              <label for="baselineHead">Baseline head</label>
              <div class="input-group">
                <input name="baselineHead" type="number" step="any" id="baselineHead" class="form-control" (focus)="focusField('head')" (input)="calculate()"
                  [(ngModel)]="psat.inputs.head" />
                <span class="input-group-addon units" [innerHTML]="getUnit(settings.distanceMeasurement)"></span>

              </div>
            </div>
            <div class="form-group">
              <label for="modificationHead">Modification head</label>
              <div class="input-group">
                <input name="modificationHead" type="number" step="any" id="modificationHead" class="form-control" (focus)="focusField('head')"
                  (input)="calculate()" [(ngModel)]="psat.modifications[exploreModIndex].psat.inputs.head" />
                <span class="input-group-addon units" [innerHTML]="getUnit(settings.distanceMeasurement)"></span>
              </div>
            </div>
          </form>
        </li>
        <li>
          <div class="checkbox">
            <label for="modifyOperatingFraction"><input type ="checkbox" id="modifyOperatingFraction" value="true" (focus)="focusField('operatingFraction')" (change)="toggleOperatingFraction()" [(ngModel)]="showOperatingFraction"/>
										Modify Operating Fraction
									</label>
          </div>
          <form *ngIf="showOperatingFraction">
            <div class="form-group">
              <label for="baselineOperatingFraction">Baseline operating fractiong</label>
              <input name="baselineOperatingFraction" type="number" step="any" id="baselineOperatingFraction" class="form-control" (focus)="focusField('operatingFraction')"
                (input)="checkOpFraction(1)" [(ngModel)]="psat.inputs.operating_fraction" />
              <span class="alert-danger pull-right small" *ngIf="opFractionError1 !== null">{{opFractionError1}}</span>
            </div>
            <div class="form-group">
              <label for="modificationOperatingFraction">Modification operating fraction</label>
              <input name="modificationOperatingFraction" type="number" step="any" id="modificationOperatingFraction" class="form-control"
                (focus)="focusField('operatingFraction')" (input)="checkOpFraction(2)" [(ngModel)]="psat.modifications[exploreModIndex].psat.inputs.operating_fraction"
              />
              <span class="alert-danger pull-right small" *ngIf="opFractionError2 !== null">{{opFractionError2}}</span>
            </div>
          </form>
        </li>
      </ul>
    </li>
    <li>
      <div class="checkbox">
        <label for="general2"><input type ="checkbox" id="general2" value="true" (focus)="focusField('motorRatedData')" (change)="toggleRatedMotorData()"  [(ngModel)]="showRatedMotorData" />
								Adjust Rated Motor Data
							</label>
      </div>
      <ul *ngIf="showRatedMotorData">
        <li>
          <div class="checkbox">
            <label for="modifyMotorRatedPower"><input type ="checkbox" id="modifyMotorRatedPower" value="true" (change)="toggleMotorRatedPower()" (focus)="focusField('motorRatedPower')" [(ngModel)]="showRatedMotorPower"/>
										Modify Rated Motor Power
									</label>
          </div>
          <form *ngIf="showRatedMotorPower">
            <div class="form-group">
              <label for="baselineMotorRatedPower">Baseline Rated Motor Power</label>
              <select name="baselineMotorRatedPower" class="form-control number-input-field" id="baselineMotorRatedPower" (focus)="focusField('motorRatedPower')"
                (change)="checkRatedPower(1)" [(ngModel)]="psat.inputs.motor_rated_power">
											<option  *ngFor="let option of options" [ngValue]="option">{{option}} {{settings.powerMeasurement}}</option>
										</select>
              <span class="alert-danger pull-right small" *ngIf="ratedPowerError1 !== null">{{ratedPowerError1}}</span>

            </div>
            <div class="form-group">
              <label for="modificationMotorRatedPower">Modification Motor Rated Power</label>
              <select name="modificationMotorRatedPower" class="form-control number-input-field" id="modificationMotorRatedPower" (focus)="focusField('motorRatedPower')"
                (change)="checkRatedPower(2)" [(ngModel)]="psat.modifications[exploreModIndex].psat.inputs.motor_rated_power"
                [disabled]="psat.modifications[exploreModIndex].psat.inputs.optimize_calculation">
											<option  *ngFor="let option2 of options" [ngValue]="option2">{{option2}} {{settings.powerMeasurement}}</option>
										</select>
              <span class="alert-danger pull-right small" *ngIf="ratedPowerError2 !== null && !psat.modifications[exploreModIndex].psat.inputs.optimize_calculation">{{ratedPowerError2}}</span>
            </div>
          </form>
        </li>
        <li>
          <div class="checkbox">
            <label for="modifyEfficiencyClass"><input type ="checkbox" id="modifyEfficiencyClass" value="true" (change)="toggleEfficiencyClass()" (focus)="focusField('efficiencyClass')" [(ngModel)]="showEfficiencyClass"/>
										Modify Efficiency Class
									</label>
          </div>
          <form *ngIf="showEfficiencyClass">
            <div class="form-group">
              <label for="oldEfficiencyClass">Baseline Efficiency Class</label>
              <select name="oldEfficiencyClass" class="form-control select-input-field" (change)="setEfficiencyClasses()" id="oldEfficiencyClass"
                (focus)="focusField('efficiencyClass')" [(ngModel)]="tmpBaselineEfficiencyClass">
      										<option *ngFor="let efficiencyClass of efficiencyClasses" [ngValue]="efficiencyClass">{{efficiencyClass}}</option>
    									</select>
            </div>
            <div class="form-group">
              <label for="modificationEfficiencyClass">Modification Efficiency Class</label>
              <select name="modificationEfficiencyClass" class="form-control select-input-field" id="modificationEfficiencyClass" (change)="setEfficiencyClasses()"
                (focus)="focusField('efficiencyClass')" [(ngModel)]="tmpModificationEfficiencyClass" [disabled]="psat.modifications[exploreModIndex].psat.inputs.optimize_calculation">
      										<option *ngFor="let efficiencyClass of efficiencyClasses" [ngValue]="efficiencyClass">{{efficiencyClass}}</option>
    									</select>
            </div>
          </form>
        </li>
        <li *ngIf="(tmpBaselineEfficiencyClass == 'Specified' || tmpModificationEfficiencyClass == 'Specified') && showEfficiencyClass">
          <div class="checkbox">
            <label for="modifyMotorEfficiency"><input type="checkbox" disabled="disabled" id="modifyMotorEfficiency" value="true" (change)="toggleMotorEfficiency()" (focus)="focusField('motorEfficiency')" [(ngModel)]="showMotorEfficiency"/>
										Modify Motor Specified Efficiency
									</label>
          </div>
          <form>
            <div class="form-group">
              <label for="baselineMotorEfficiency">Baseline Motor Efficiency</label>
              <div class="input-group">
                <input name="baselineMotorEfficiency" [disabled]="tmpBaselineEfficiencyClass != 'Specified'" type="number" step="any" id="baselineMotorEfficiency"
                  class="form-control" (focus)="focusField('motorEfficiency')" (input)="checkEfficiency(psat.inputs.efficiency, 1)"
                  [(ngModel)]="psat.inputs.efficiency" />
                <span class="input-group-addon units">(%)</span>
              </div>
              <span class="alert-danger pull-right small" *ngIf="efficiencyError1 !== null">{{efficiencyError1}}</span>
            </div>
            <div class="form-group">
              <label for="modificationMotorEfficiency">Modification Motor Efficiency</label>
              <div class="input-group">
                <input name="modificationMotorEfficiency" [disabled]="tmpModificationEfficiencyClass != 'Specified' || psat.modifications[exploreModIndex].psat.inputs.optimize_calculation"
                  type="number" step="any" id="modificationMotorEfficiency" class="form-control" (focus)="focusField('motorEfficiency')"
                  [(ngModel)]="psat.modifications[exploreModIndex].psat.inputs.efficiency" (input)="checkEfficiency(psat.modifications[exploreModIndex].psat.inputs.efficiency, 2)"
                />
                <span class="input-group-addon units">(%)</span>
              </div>
              <span class="alert-danger pull-right small" *ngIf="efficiencyError2 !== null && !psat.modifications[exploreModIndex].psat.inputs.optimize_calculation">{{efficiencyError2}}</span>
            </div>
          </form>
        </li>
      </ul>
    </li>
    <li>
      <div class="checkbox">
        <label for="general3"><input type ="checkbox" id="general3" value="true" (focus)="focusField('pumpData')" (change)="togglePumpData()" [(ngModel)]="showPumpData" />
								Adjust Pump Data
							</label>
      </div>
      <ul *ngIf="showPumpData">
        <li>
          <div class="checkbox">
            <label for="modifyPumpType"><input type="checkbox" id="modifyPumpType" value="true" (focus)="focusField('pumpType')" (change)="togglePumpType()" [(ngModel)]="showPumpType"/>
										Modify Pump Type
									</label>
          </div>
          <form *ngIf="showPumpType">
            <div class="form-group">
              <label for="baselinePumpType">Baseline Pump Type</label>
              <select class="form-control" name="pumpType" id="pumpType" (change)="setPumpTypes()" (focus)="focusField('pumpType')" [(ngModel)]="tmpBaselinePumpType">
											<option *ngFor="let pumpType of pumpTypes" [ngValue]="pumpType">{{pumpType}}</option>
										</select>
            </div>
            <div class="form-group">
              <label for="modificationPumpType">Modification Pump Type</label>
              <select class="form-control" name="pumpType2" id="pumpType2" (change)="setPumpTypes()" (focus)="focusField('pumpType')" [(ngModel)]="tmpModificationPumpType">
											<option *ngFor="let pumpType2 of pumpTypes" [ngValue]="pumpType2">{{pumpType2}}</option>
										</select>
            </div>
          </form>
        </li>
        <li>
          <div class="checkbox">
            <label for="modifyMotorDrive"><input type="checkbox" id="modifyMotorDrive" value="true" (focus)="focusField('drive')" (change)="toggleMotorDrive()" [(ngModel)]="showMotorDrive"/>
              Modify Motor Drive
            </label>
          </div>
          <form *ngIf="showMotorDrive">
            <div class="form-group">
              <label for="baselineMotorDrive">Baseline Motor Drive</label>
              <select class="form-control" name="drive" id="drive" (change)="setMotorDrive()" (focus)="focusField('drive')" [(ngModel)]="tmpBaselineMotorDrive">
                <option *ngFor="let drive of drives" [ngValue]="drive">{{drive}}</option>
              </select>
            </div>
            <div class="form-group">
              <label for="modificationMotorDrive">Modification Motor Drive</label>
              <select class="form-control" name="drive2" id="drive2" (change)="setMotorDrive()" (focus)="focusField('drive')" [(ngModel)]="tmpModificationMotorDrive">
                <option *ngFor="let drive2 of drives" [ngValue]="drive2">{{drive2}}</option>
              </select>
            </div>
          </form>
        </li>
        <li *ngIf="(tmpBaselinePumpType == 'Specified Optimal Efficiency' || tmpModificationPumpType == 'Specified Optimal Efficiency') && showPumpType">
          <div class="checkbox">
            <label for="modifyPumpSpecified"><input type="checkbox" disabled="disabled" id="modifyPumpSpecified" value="true" (focus)="focusField('pumpSpecified')" [(ngModel)]="showPumpSpecified"/>
										Modify Pump Specified Efficiency
									</label>
          </div>
          <form>
            <div class="form-group">
              <label for="baselinePumpSpecified">Baseline Pump Specified Efficiency</label>
              <div class="input-group">
                <input name="baselinePumpSpecified" [disabled]="tmpBaselinePumpType != 'Specified Optimal Efficiency'" type="number" step="any"
                  id="baselinePumpSpecified" class="form-control" (focus)="focusField('pumpSpecified')" (input)="checkEfficiency(psat.inputs.pump_specified, 3)"
                  [(ngModel)]="psat.inputs.pump_specified" />
                <span class="input-group-addon units">%</span>
              </div>
              <span class="alert-danger pull-right small" *ngIf="specifiedError1 !== null">{{specifiedError1}}</span>
            </div>
            <div class="form-group">
              <label for="modificationPumpSpecified">Modification Pump Specified Efficiency</label>
              <div class="input-group">
                <input name="modificationPumpSpecified" [disabled]="tmpModificationPumpType != 'Specified Optimal Efficiency'" type="number"
                  step="any" id="modificationPumpSpecified" class="form-control" (focus)="focusField('pumpSpecified')" (input)="checkEfficiency(psat.modifications[exploreModIndex].psat.inputs.pump_specified, 4)"
                  [(ngModel)]="psat.modifications[exploreModIndex].psat.inputs.pump_specified" />
                <span class="input-group-addon units">%</span>
              </div>
              <span class="alert-danger pull-right small" *ngIf="specifiedError2 !== null">{{specifiedError2}}</span>
            </div>
          </form>
        </li>
      </ul>
    </li>
    <li>
      <div class="checkbox">
        <label for="modifyCalculationMethod"><input type="checkbox" id="modifyCalculationMethod" value="true" (change)="toggleOptimized()" (focus)="focusField('modifyCalculationMethod')" [(ngModel)]="psat.modifications[exploreModIndex].psat.inputs.optimize_calculation"/>
										Optimize Pump and Motor combination, automatically
									</label>
      </div>
      <ul *ngIf="psat.modifications[exploreModIndex].psat.inputs.optimize_calculation">
        <!--<li>-->
          <!--<form *ngIf="showViscosity">-->
            <!--<div class="form-group">-->
            <!--</div>-->
            <!--<div class="form-group">-->
              <!--<label>-->
                <!--Kinematic Viscosity-->
              <!--</label>-->
              <!--<div name="viscosity" class="incrementor form-control input-group">-->
                <!--<button class="btn input-group-btn" (click)="subtractNum()"><i class="fa fa-minus"></i></button>-->
                <!--<button class="btn input-group-btn" (click)="addNum()"><i class="fa fa-plus"></i></button>-->
                <!--<input name="kinematicViscosity" type="number" min="0" step="any" class="form-control addon-input" id="viscosity" [(ngModel)]="psat.modifications[exploreModIndex].psat.inputs.kinematic_viscosity"-->
                  <!--(input)="calculate()" (focus)="focusField('kinematicViscosity')" onfocus="this.select();">-->
                <!--<span class="input-group-addon units">cST</span>-->
              <!--</div>-->
            <!--</div>-->
          <!--</form>-->
        <!--</li>-->

        <li>
          <div class="checkbox">
            <label for="showSizeMargin"><input name="showSizeMargin" type="checkbox" id="showSizeMargin" value="true" (focus)="focusField('sizeMargin')" [(ngModel)]="showSizeMargin"/>
										Size Margin
									</label>
          </div>
          <form *ngIf="showSizeMargin">
            <div class="form-group">
            </div>
            <div class="form-group">
              <div name="sizeMargin" class="input-group">
                <input name="sizeMargin" type="number" min="0" step="any" class="form-control addon-input" id="sizeMargin" [(ngModel)]="psat.modifications[exploreModIndex].psat.inputs.margin"
                  (input)="calculate()" (focus)="focusField('sizeMargin')" onfocus="this.select();">
                <span class="input-group-addon units">%</span>
              </div>
            </div>
          </form>
        </li>
        <li>
          <div class="checkbox">
            <label for="showSpeed">
										Fixed specific speed?
									</label>
          </div>
          <form>
            <div class="form-group">
            </div>
            <div class="form-group">
              <div name="fixedSpeed" class="form-check">
                <label class="form-check-label">
                <input
                  class="form-check-input"
                  name="fixedSpeed"
                  type="radio"
                  [(ngModel)]="psat.modifications[exploreModIndex].psat.inputs.fixed_speed"
                  [value]='1'
                  (change)="calculate('fixedSpecificSpeed')">Yes
                </label>
                <label class="form-check-label">
                <input
                  name="fixedSpeed"
                  class="form-check-input"
                  type="radio"
                  [(ngModel)]="psat.modifications[exploreModIndex].psat.inputs.fixed_speed"
                  [value]='0'
                  (change)="calculate('fixedSpecificSpeed')">No
              </label>
              </div>
            </div>
          </form>
        </li>
      </ul>
    </li>
  </ul>
</div>
